<h3 id="spread-trading-websocket-trade-api-ws-amend-order">WS / Amend order</h3>
<p>Amend an incomplete order.</p>
<h4 id="spread-trading-websocket-trade-api-ws-amend-order-url-path">URL Path</h4>
<p>/ws/v5/business (required login)</p>
<h4 id="spread-trading-websocket-trade-api-ws-amend-order-rate-limit-20-requests-per-2-seconds">Rate Limit: 20 requests per 2 seconds</h4><h4 id="spread-trading-websocket-trade-api-ws-amend-order-rate-limit-rule-user-id">Rate limit rule: User ID</h4>
<aside class="notice">
Rate limit is shared with the `Amend order` REST API endpoints
</aside>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="o">{</span>
   <span class="s2">"id"</span>:<span class="s2">"1512"</span>,
   <span class="s2">"op"</span>:<span class="s2">"sprd-amend-order"</span>,
   <span class="s2">"args"</span>:[
      <span class="o">{</span>
         <span class="s2">"ordId"</span>:<span class="s2">"2510789768709120"</span>,
         <span class="s2">"newSz"</span>:<span class="s2">"2"</span>
      <span class="o">}</span>
   <span class="o">]</span>
<span class="o">}</span>

</code></pre></div><h4 id="spread-trading-websocket-trade-api-ws-amend-order-request-parameters">Request Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>Yes</td>
<td>Unique identifier of the messageProvided by client. <br/>It will be returned in response message for identifying the corresponding request. <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.</td>
</tr>
<tr>
<td>op</td>
<td>String</td>
<td>Yes</td>
<td>Operation<br/><code>sprd-amend-order</code></td>
</tr>
<tr>
<td>args</td>
<td>Array of objects</td>
<td>Yes</td>
<td>Request Parameters</td>
</tr>
<tr>
<td>&gt; ordId</td>
<td>String</td>
<td>Conditional</td>
<td>Order ID <br/>Either <code>ordId</code> or <code>clOrdId</code> is required, if both are passed, <code>ordId</code> will be used.</td>
</tr>
<tr>
<td>&gt; clOrdId</td>
<td>String</td>
<td>Conditional</td>
<td>Client Order ID as assigned by the client</td>
</tr>
<tr>
<td>&gt; reqId</td>
<td>String</td>
<td>No</td>
<td>Client Request ID as assigned by the client for order amendment <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.</td>
</tr>
<tr>
<td>&gt; newSz</td>
<td>String</td>
<td>Conditional</td>
<td>New quantity after amendment. <br/>Either <code>newSz</code> or <code>newPx</code> is required. When amending a partially-filled order, the newSz should include the amount that has been filled and failed.</td>
</tr>
<tr>
<td>&gt; newPx</td>
<td>String</td>
<td>Conditional</td>
<td>New price after amendment.</td>
</tr>
</tbody></table>
<blockquote>
<p>Successful Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-amend-order"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2510789768709120"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"reqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b12344"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>Failure Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-amend-order"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2510789768709120"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"reqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b12344"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5XXXX"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order not exist"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>Response Example When Format Error</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-amend-order"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60013"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid args"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="spread-trading-websocket-trade-api-ws-amend-order-response-parameters">Response Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>Unique identifier of the message</td>
</tr>
<tr>
<td>op</td>
<td>String</td>
<td>Operation</td>
</tr>
<tr>
<td>code</td>
<td>String</td>
<td>Error Code</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>Error message</td>
</tr>
<tr>
<td>data</td>
<td>Array of objects</td>
<td>Data</td>
</tr>
<tr>
<td>&gt; ordId</td>
<td>String</td>
<td>Order ID</td>
</tr>
<tr>
<td>&gt; clOrdId</td>
<td>String</td>
<td>Client Order ID as assigned by the client</td>
</tr>
<tr>
<td>&gt; reqId</td>
<td>String</td>
<td>Client Request ID as assigned by the client for order amendment</td>
</tr>
<tr>
<td>&gt; sCode</td>
<td>String</td>
<td>Order status code, 0 means success</td>
</tr>
<tr>
<td>&gt; sMsg</td>
<td>String</td>
<td>Order status message</td>
</tr>
</tbody></table>
<aside class="notice">
newSz<br/>
If the new quantity of the order is less than or equal to the (accFillSz + canceledSz + pendingSettleSz), after pendingSettleSz is settled, the order status will be transitioned into filled (if canceledSz = 0), or canceled (if canceledSz &gt; 0).
</aside>
<aside class="notice">
The amend order returns sCode equal to 0<br/>

It is not strictly considered that the order has been amended. It only means that your amend order request has been accepted by the system server. The result of the amend is subject to the status pushed by the order channel or the order status query.
</aside>
