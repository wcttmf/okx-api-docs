<h3 id="spread-trading-websocket-public-channel-order-book-channel">Order book channel</h3>
<p>Retrieve order book data. Available channels:</p>
<ul>
<li><code>sprd-bbo-tbt</code>: 1 depth level snapshot will be pushed in the initial push. Snapshot data will be pushed every 10 ms when there are changes in the 1 depth level snapshot.</li>
<li><code>sprd-books5</code>: 5 depth levels snapshot will be pushed in the initial push. Snapshot data will be pushed every 100 ms when there are changes in the 5 depth levels snapshot.</li>
<li><code>sprd-books-l2-tbt</code>: 400 depth levels will be pushed in the initial full snapshot. Incremental data will be pushed every 10 ms for the changes in the order book during that period of time. </li>
<li>The push sequence for order book channels within the same connection and trading symbols is fixed as: sprd-bbo-tbt -&gt; sprd-books-l2-tbt -&gt; sprd-books5.</li>
</ul>
<h4 id="spread-trading-websocket-public-channel-order-book-channel-url-path">URL Path</h4>
<p>/ws/v5/business</p>
<blockquote>
<p>Request Example: sprd-books5</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"id"</span>: <span class="s2">"1512"</span>,
  <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
  <span class="s2">"args"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"channel"</span>: <span class="s2">"sprd-books5"</span>,
      <span class="s2">"sprdId"</span>: <span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">from</span> <span class="nn">okx.websocket.WsPublicAsync</span> <span class="kn">import</span> <span class="n">WsPublicAsync</span>

<span class="k">def</span> <span class="nf">callbackFunc</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">ws</span> <span class="o">=</span> <span class="n">WsPublicAsync</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s">"wss://wspap.okx.com:8443/ws/v5/business"</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">start</span><span class="p">()</span>
    <span class="n">args</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s">"channel"</span><span class="p">:</span> <span class="s">"sprd-books5"</span><span class="p">,</span>
          <span class="s">"sprdId"</span><span class="p">:</span> <span class="s">"BTC-USDT_BTC-USDT-SWAP"</span>
        <span class="p">}</span>
    <span class="p">]</span>

    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">callbackFunc</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">unsubscribe</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">callbackFunc</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>

</code></pre></div>
<blockquote>
<p>Request Example: sprd-books-l2-tbt</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"id"</span>: <span class="s2">"1512"</span>,
  <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
  <span class="s2">"args"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"channel"</span>: <span class="s2">"sprd-books-l2-tbt"</span>,
      <span class="s2">"sprdId"</span>: <span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">from</span> <span class="nn">okx.websocket.WsPublicAsync</span> <span class="kn">import</span> <span class="n">WsPublicAsync</span>

<span class="k">def</span> <span class="nf">callbackFunc</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">ws</span> <span class="o">=</span> <span class="n">WsPublicAsync</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s">"wss://wspap.okx.com:8443/ws/v5/business"</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">start</span><span class="p">()</span>
    <span class="n">args</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s">"channel"</span><span class="p">:</span> <span class="s">"sprd-books-l2-tbt"</span><span class="p">,</span>
          <span class="s">"sprdId"</span><span class="p">:</span> <span class="s">"BTC-USDT_BTC-USDT-SWAP"</span>
        <span class="p">}</span>
    <span class="p">]</span>

    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">callbackFunc</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">unsubscribe</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">callbackFunc</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>

</code></pre></div><h4 id="spread-trading-websocket-public-channel-order-book-channel-request-parameters">Request Parameters</h4>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">No</td>
<td>Unique identifier of the message  <br/>Provided by client. It will be returned in response message for identifying the corresponding request. <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.</td>
</tr>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td>Operation<br/><code>subscribe</code><br/><code>unsubscribe</code><br/></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">Yes</td>
<td>List of subscribed channels<br/><code>sprd-bbo-tbt</code><br/><code>sprd-books5</code><br/><code>sprd-books-l2-tbt</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td>Channel name</td>
</tr>
<tr>
<td style="text-align: left">&gt; sprdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td>spread ID</td>
</tr>
</tbody></table>
<blockquote>
<p>Successful Response Example: sprd-books5</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-books5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Successful Response Example: sprd-books-l2-tbt</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"event"</span><span class="p">:</span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"arg"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"sprd-books-l2-tbt"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"connId"</span><span class="p">:</span><span class="s2">"214fdd24"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Failure Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">args</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">sprd-books5</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">sprdId</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">BTC-USD_BTC-USD-191227</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="spread-trading-websocket-public-channel-order-book-channel-response-parameters">Response parameters</h4>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">No</td>
<td>Unique identifier of the message</td>
</tr>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td>Event<br/><code>subscribe</code><br/><code>unsubscribe</code><br/><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">No</td>
<td>Subscribed channels<br/><code>sprd-bbo-tbt</code><br/><code>sprd-books5</code><br/><code>sprd-books-l2-tbt</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td>Channel name</td>
</tr>
<tr>
<td style="text-align: left">&gt; sprdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td>spread ID</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">No</td>
<td>Error message</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">No</td>
<td>Error code</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td>WebSocket connection ID</td>
</tr>
</tbody></table>
<blockquote>
<p>Push Data Example: sprd-books5</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-books5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.06"</span><span class="p">,</span><span class="s2">"55154"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.07"</span><span class="p">,</span><span class="s2">"53276"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.08"</span><span class="p">,</span><span class="s2">"72435"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.09"</span><span class="p">,</span><span class="s2">"70312"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.1"</span><span class="p">,</span><span class="s2">"67272"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">]],</span><span class="w">
      </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.05"</span><span class="p">,</span><span class="s2">"57745"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.04"</span><span class="p">,</span><span class="s2">"57109"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.03"</span><span class="p">,</span><span class="s2">"69563"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.02"</span><span class="p">,</span><span class="s2">"71248"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"111.01"</span><span class="p">,</span><span class="s2">"65090"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">]],</span><span class="w">
      </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1670324386802"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"seqId"</span><span class="p">:</span><span class="mi">1724294007352168320</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Push Data Example: sprd-books-l2-tbt</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"arg"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"sprd-books-l2-tbt"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"action"</span><span class="p">:</span><span class="s2">"snapshot"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nl">"asks"</span><span class="p">:[</span><span class="w">
            </span><span class="p">[</span><span class="s2">"1.9"</span><span class="p">,</span><span class="s2">"1.1"</span><span class="p">,</span><span class="s2">"3"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"2.5"</span><span class="p">,</span><span class="s2">"0.9"</span><span class="p">,</span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"3.2"</span><span class="p">,</span><span class="s2">"4.921"</span><span class="p">,</span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"4.8"</span><span class="p">,</span><span class="s2">"0.165"</span><span class="p">,</span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"5.2"</span><span class="p">,</span><span class="s2">"4.921"</span><span class="p">,</span><span class="s2">"1"</span><span class="p">]</span><span class="w">
          </span><span class="err">......</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="nl">"bids"</span><span class="p">:[</span><span class="w">
            </span><span class="p">[</span><span class="s2">"1.8"</span><span class="p">,</span><span class="s2">"0.165"</span><span class="p">,</span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"0.6"</span><span class="p">,</span><span class="s2">"0.2"</span><span class="p">,</span><span class="s2">"2"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"0"</span><span class="p">,</span><span class="s2">"23.49"</span><span class="p">,</span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"-0.1"</span><span class="p">,</span><span class="s2">"1"</span><span class="p">,</span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"-0.6"</span><span class="p">,</span><span class="s2">"1"</span><span class="p">,</span><span class="s2">"1"</span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="s2">"-3.9"</span><span class="p">,</span><span class="s2">"4.921"</span><span class="p">,</span><span class="s2">"1"</span><span class="p">]</span><span class="w">
            </span><span class="err">......</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1724391380926"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"checksum"</span><span class="p">:</span><span class="mi">-1285595583</span><span class="p">,</span><span class="w">
         </span><span class="nl">"prevSeqId"</span><span class="p">:</span><span class="mi">-1</span><span class="p">,</span><span class="w">
         </span><span class="nl">"seqId"</span><span class="p">:</span><span class="mi">1724294007352168320</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="spread-trading-websocket-public-channel-order-book-channel-push-data-parameters">Push data parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>arg</td>
<td>Object</td>
<td>Successfully subscribed channel</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>Channel name</td>
</tr>
<tr>
<td>&gt; sprdId</td>
<td>String</td>
<td>spread ID</td>
</tr>
<tr>
<td>action</td>
<td>String</td>
<td>Push data action, incremental data or full snapshot.<br/><code>snapshot</code>: full<br/><code>update</code>: incremental</td>
</tr>
<tr>
<td>data</td>
<td>Array of objects</td>
<td>Subscribed data</td>
</tr>
<tr>
<td>&gt; asks</td>
<td>Array of strings</td>
<td>Order book on sell side</td>
</tr>
<tr>
<td>&gt; bids</td>
<td>Array of strings</td>
<td>Order book on buy side</td>
</tr>
<tr>
<td>&gt; ts</td>
<td>String</td>
<td>Order book generation time, Unix timestamp format in milliseconds, e.g. 1597026383085</td>
</tr>
<tr>
<td>&gt; checksum</td>
<td>Integer</td>
<td>Checksum, implementation details below. Only applicable to <code>sprd-books-l2-tbt</code>.</td>
</tr>
<tr>
<td>&gt; prevSeqId</td>
<td>Integer</td>
<td>Sequence ID of the last sent message. Only applicable to <code>sprd-books-l2-tbt</code>.</td>
</tr>
<tr>
<td>&gt; seqId</td>
<td>Integer</td>
<td>Sequence ID of the current message, implementation details below.</td>
</tr>
</tbody></table>
<aside class="notice">
An example of the array of asks and bids values: ["411.8", "10", "4"]<br/>
- "411.8" is the depth price<br/>
- "10" is the quantity at the price (Unit: szCcy)<br/>
- "4" is the number of orders at the price.<br/>
</aside>
<h4 id="spread-trading-websocket-public-channel-order-book-channel-sequence-id">Sequence ID</h4>
<p><code>seqId</code> is the sequence ID of the market data published. The set of sequence ID received by users is the same if users are connecting to the same channel through multiple websocket connections. Each <code>sprdId</code> has an unique set of sequence ID. Users can use <code>prevSeqId</code> and <code>seqId</code> to build the message sequencing for incremental order book updates. Generally the value of seqId is larger than prevSeqId. The <code>prevSeqId</code> in the new message matches with <code>seqId</code> of the previous message. The smallest possible sequence ID value is 0, except in snapshot messages where the prevSeqId is always -1.<br/></p>
<p>Exceptions:<br/>
1. If there are no updates to the depth for an extended period, OKX will send a message with <code>'asks': [], 'bids': []</code> to inform users that the connection is still active. <code>seqId</code> is the same as the last sent message and <code>prevSeqId</code> equals to <code>seqId</code>.
2. The sequence number may be reset due to maintenance, and in this case, users will receive an incremental message with <code>seqId</code> smaller than <code>prevSeqId</code>. However, subsequent messages will follow the regular sequencing rule.</p>
<h5 id="spread-trading-websocket-public-channel-order-book-channel-sequence-id-example">Example</h5>
<ol>
<li>Snapshot message: prevSeqId = -1, seqId = 10</li>
<li>Incremental message 1 (normal update): prevSeqId = 10, seqId = 15</li>
<li>Incremental message 2 (no update): prevSeqId = 15, seqId = 15</li>
<li>Incremental message 3 (sequence reset): prevSeqId = 15, seqId = 3</li>
<li>Incremental message 4 (normal update): prevSeqId = 3, seqId = 5</li>
</ol>
<h4 id="spread-trading-websocket-public-channel-order-book-channel-checksum">Checksum</h4>
<p>This mechanism can assist users in checking the accuracy of depth data.</p>
<h5 id="spread-trading-websocket-public-channel-order-book-channel-checksum-merging-incremental-data-into-full-data">Merging incremental data into full data</h5>
<p>After subscribing to the incremental load push (such as <code>books</code> 400 levels) of Order Book Channel, users first receive the initial full load of market depth. After the incremental load is subsequently received, update the local full load.</p>
<ol>
<li>If there is the same price, compare the size. If the size is 0, delete this depth data. If the size changes, replace the original data.</li>
<li>If there is no same price, sort by price (bid in descending order, ask in ascending order), and insert the depth information into the full load.</li>
</ol>
<h5 id="spread-trading-websocket-public-channel-order-book-channel-checksum-calculate-checksum">Calculate Checksum</h5>
<p>Use the first 25 bids and asks in the full load to form a string (where a colon connects the price and size in an ask or a bid), and then calculate the CRC32 value (32-bit signed integer).</p>
