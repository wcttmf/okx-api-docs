<h3 id="spread-trading-websocket-private-channel-order-channel">Order channel</h3>
<p>Retrieve order information from the <code>sprd-order</code> Websocket channel. Data will not be pushed when first subscribed. Data will only be pushed when triggered by events such as placing/canceling order.</p>
<h4 id="spread-trading-websocket-private-channel-order-channel-url-path">URL Path</h4>
<p>/ws/v5/business (required login)</p>
<blockquote>
<p>Request Example : single</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"id"</span>: <span class="s2">"1512"</span>,
  <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
  <span class="s2">"args"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"channel"</span>: <span class="s2">"sprd-orders"</span>,
      <span class="s2">"sprdId"</span>: <span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">from</span> <span class="nn">okx.websocket.WsPrivateAsync</span> <span class="kn">import</span> <span class="n">WsPrivateAsync</span>

<span class="k">def</span> <span class="nf">callbackFunc</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">ws</span> <span class="o">=</span> <span class="n">WsPrivateAsync</span><span class="p">(</span>
        <span class="n">apiKey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span><span class="p">,</span>
        <span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span><span class="p">,</span>
        <span class="n">secretKey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span><span class="p">,</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s">"wss://ws.okx.com:8443/ws/v5/business"</span><span class="p">,</span>
        <span class="n">useServerTime</span><span class="o">=</span><span class="bp">False</span>
    <span class="p">)</span>
    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">start</span><span class="p">()</span>
    <span class="n">args</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s">"channel"</span><span class="p">:</span> <span class="s">"sprd-orders"</span><span class="p">,</span>
          <span class="s">"sprdId"</span><span class="p">:</span> <span class="s">"BTC-USDT_BTC-USDT-SWAP"</span>
        <span class="p">}</span>
    <span class="p">]</span>

    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">callbackFunc</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">unsubscribe</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">callbackFunc</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>


<span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>Request Example:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"id"</span>: <span class="s2">"1512"</span>,
  <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
  <span class="s2">"args"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"channel"</span>: <span class="s2">"sprd-orders"</span>,
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">from</span> <span class="nn">okx.websocket.WsPrivateAsync</span> <span class="kn">import</span> <span class="n">WsPrivateAsync</span>

<span class="k">def</span> <span class="nf">callbackFunc</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">ws</span> <span class="o">=</span> <span class="n">WsPrivateAsync</span><span class="p">(</span>
        <span class="n">apiKey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span><span class="p">,</span>
        <span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span><span class="p">,</span>
        <span class="n">secretKey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span><span class="p">,</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s">"wss://ws.okx.com:8443/ws/v5/business"</span><span class="p">,</span>
        <span class="n">useServerTime</span><span class="o">=</span><span class="bp">False</span>
    <span class="p">)</span>
    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">start</span><span class="p">()</span>
    <span class="n">args</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s">"channel"</span><span class="p">:</span> <span class="s">"sprd-orders"</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">]</span>

    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">callbackFunc</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">unsubscribe</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">callbackFunc</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>


<span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</code></pre></div><h4 id="spread-trading-websocket-private-channel-order-channel-request-parameters">Request Parameters</h4>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">No</td>
<td>Unique identifier of the message  <br/>Provided by client. It will be returned in response message for identifying the corresponding request. <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.</td>
</tr>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td>Operation<br/><code>subscribe</code><br/><code>unsubscribe</code><br/></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">Yes</td>
<td>List of subscribed channels</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td>Channel name<br/><code>sprd-orders</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; sprdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">No</td>
<td>Spread ID</td>
</tr>
</tbody></table>
<blockquote>
<p>Successful Response Example : single</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-orders"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT_BTC-UST-SWAP"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Successful Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-orders"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Failure Response Example </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">sprd-orders</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">instType</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">FUTURES</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id="spread-trading-websocket-private-channel-order-channel-response-parameters">Response parameters</h4>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">No</td>
<td>Unique identifier of the message</td>
</tr>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td>Event<br/><code>subscribe</code><br/><code>unsubscribe</code><br/><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">No</td>
<td style="text-align: left">Object</td>
<td>Subscribed channel</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">String</td>
<td>Channel name</td>
</tr>
<tr>
<td style="text-align: left">&gt; sprdId</td>
<td style="text-align: left">No</td>
<td style="text-align: left">String</td>
<td>Spread ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">No</td>
<td style="text-align: left">String</td>
<td>Error code</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">No</td>
<td style="text-align: left">String</td>
<td>Error message</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td>WebSocket connection ID</td>
</tr>
</tbody></table>
<blockquote>
<p>Push Data Example: single</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sprd-orders"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT_BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"614488474791936"</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
     </span><span class="p">{</span><span class="w">
      </span><span class="nl">"sprdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT_BTC-UST-SWAP"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ordId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"312269865356374016"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"999"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ordType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fillPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accFillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pendingFillSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pendingSettleSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"canceledSz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"live"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cancelSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1597026383085"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"reqId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amendResult"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="spread-trading-websocket-private-channel-order-channel-push-data-parameters">Push data parameters</h4>
<table><thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Type</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead><tbody>
<tr>
<td>arg</td>
<td>Object</td>
<td>Successfully subscribed channel</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>Channel name</td>
</tr>
<tr>
<td>&gt; uid</td>
<td>String</td>
<td>User Identifier</td>
</tr>
<tr>
<td>&gt; sprdId</td>
<td>String</td>
<td>spread ID</td>
</tr>
<tr>
<td>data</td>
<td>Array of objects</td>
<td>Subscribed data</td>
</tr>
<tr>
<td>&gt; sprdId</td>
<td>String</td>
<td>spread ID, e.g.</td>
</tr>
<tr>
<td>&gt; ordId</td>
<td>String</td>
<td>Order ID</td>
</tr>
<tr>
<td>&gt; clOrdId</td>
<td>String</td>
<td>Client Order ID as assigned by the client</td>
</tr>
<tr>
<td>&gt; tag</td>
<td>String</td>
<td>Order tag</td>
</tr>
<tr>
<td>&gt; px</td>
<td>String</td>
<td>Order price</td>
</tr>
<tr>
<td>&gt; sz</td>
<td>String</td>
<td>The original order quantity, in the unit of szCcy</td>
</tr>
<tr>
<td>&gt; ordType</td>
<td>String</td>
<td>Order type<br/><code>market</code>: Market order <br/><code>limit</code>: limit order <br/><code>post_only</code>: Post-only order <br/><code>ioc</code>: Immediate-or-cancel order</td>
</tr>
<tr>
<td>&gt; side</td>
<td>String</td>
<td>Order side, buy sell</td>
</tr>
<tr>
<td>&gt; fillSz</td>
<td>String</td>
<td>Last trade quantity, only applicable to order updates representing successful settlement</td>
</tr>
<tr>
<td>&gt; fillPx</td>
<td>String</td>
<td>Last trade price, only applicable to order updates representing successful settlement</td>
</tr>
<tr>
<td>&gt; tradeId</td>
<td>String</td>
<td>Last trade ID</td>
</tr>
<tr>
<td>&gt; accFillSz</td>
<td>String</td>
<td>Accumulated fill quantity</td>
</tr>
<tr>
<td>&gt; pendingFillSz</td>
<td>String</td>
<td>Quantity still remaining to be filled</td>
</tr>
<tr>
<td>&gt; pendingSettleSz</td>
<td>String</td>
<td>Quantity that's pending settlement</td>
</tr>
<tr>
<td>&gt; canceledSz</td>
<td>String</td>
<td>Quantity canceled due order cancellations or trade rejections</td>
</tr>
<tr>
<td>&gt; avgPx</td>
<td>String</td>
<td>Average filled price. If none is filled, it will return "0".</td>
</tr>
<tr>
<td>&gt; state</td>
<td>String</td>
<td>Order state: <br/><code>canceled</code> <br/><code>live</code> <br/><code>partially_filled</code> <br/><code>filled</code></td>
</tr>
<tr>
<td>&gt; cancelSource</td>
<td>String</td>
<td>Source of the order cancellation.Valid values and the corresponding meanings are: <br/><code>0</code>: Order canceled by system <br/><code>1</code>: Order canceled by user <br/><code>14</code>: Order canceled: IOC order was partially canceled due to incompletely filled<br/><code>15</code>: Order canceled: The order price is beyond the limit<br/> <code>20</code>: Cancel all after triggered <br/><code>31</code>: The post-only order will take liquidity in maker orders<br/> <code>32</code>: Self trade prevention <br/><code>34</code>: Order failed to settle due to insufficient margin <br/><code>35</code>: Order cancellation due to insufficient margin from another order<br/><code>44</code>: Your order was canceled because your available balance of this crypto was insufficient for auto conversion. Auto conversion was triggered when the total collateralized liabilities for this crypto reached the platform’s risk control limit.</td>
</tr>
<tr>
<td>&gt; uTime</td>
<td>String</td>
<td>Update time, Unix timestamp format in milliseconds, e.g. 1597026383085</td>
</tr>
<tr>
<td>&gt; cTime</td>
<td>String</td>
<td>Creation time, Unix timestamp format in milliseconds, e.g. 1597026383085</td>
</tr>
<tr>
<td>&gt; code</td>
<td>String</td>
<td>Error Code, the default is 0</td>
</tr>
<tr>
<td>&gt; msg</td>
<td>String</td>
<td>Error Message, the default is ""</td>
</tr>
<tr>
<td>&gt; reqId</td>
<td>String</td>
<td>Client Request ID as assigned by the client for order amendment. "" will be returned if there is no order amendment.</td>
</tr>
<tr>
<td>&gt; amendResult</td>
<td>String</td>
<td>The result of amending the order <br/><code>-1</code>: failure <br/><code>0</code>: success<br/>"" will be returned if there is no order amendment.</td>
</tr>
</tbody></table>
