<h3 id="block-trading-websocket-private-channel-rfqs-channel">Rfqs channel</h3>
<p>Retrieve the RFQs sent or received by the user. Data will be pushed whenever the user sends or receives an RFQ.</p>
<h4 id="block-trading-websocket-private-channel-rfqs-channel-url-path">URL Path</h4>
<p>/ws/v5/business (required login)</p>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"id"</span>: <span class="s2">"1512"</span>,
  <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
  <span class="s2">"args"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"channel"</span>: <span class="s2">"rfqs"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">asyncio</span>

<span class="kn">from</span> <span class="nn">okx.websocket.WsPrivateAsync</span> <span class="kn">import</span> <span class="n">WsPrivateAsync</span>


<span class="k">def</span> <span class="nf">callbackFunc</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>

    <span class="n">ws</span> <span class="o">=</span> <span class="n">WsPrivateAsync</span><span class="p">(</span>
        <span class="n">apiKey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span><span class="p">,</span>
        <span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span><span class="p">,</span>
        <span class="n">secretKey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span><span class="p">,</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s">"wss://ws.okx.com:8443/ws/v5/business"</span><span class="p">,</span>
        <span class="n">useServerTime</span><span class="o">=</span><span class="bp">False</span>
    <span class="p">)</span>
    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">start</span><span class="p">()</span>
    <span class="n">args</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s">"channel"</span><span class="p">:</span> <span class="s">"rfqs"</span>
        <span class="p">}</span>
    <span class="p">]</span>

    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">callbackFunc</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">unsubscribe</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">callbackFunc</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>


<span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</code></pre></div><h4 id="block-trading-websocket-private-channel-rfqs-channel-request-parameters">Request Parameters</h4>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">No</td>
<td>Unique identifier of the message  <br/>Provided by client. It will be returned in response message for identifying the corresponding request. <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.</td>
</tr>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td>Operation<br/><code>subscribe</code><br/><code>unsubscribe</code><br/></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">Yes</td>
<td>List of subscribed channels</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td>Channel name<br/><code>rfqs</code></td>
</tr>
</tbody></table>
<blockquote>
<p>Successful Response Example </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rfqs"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Failure Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">rfqs</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="block-trading-websocket-private-channel-rfqs-channel-response-parameters">Response parameters</h4>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">No</td>
<td>Unique identifier of the message</td>
</tr>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td>Operation<br/><code>subscribe</code><br/><code>unsubscribe</code><br/><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">No</td>
<td>Subscribed channel</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td>Channel name<br/><code>rfqs</code></td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">No</td>
<td>Error code</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">No</td>
<td>Error message</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td>WebSocket connection ID</td>
</tr>
</tbody></table>
<blockquote>
<p>Push Data Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"rfqs"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"77982378738415879"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"cTime"</span><span class="p">:</span><span class="s2">"1611033737572"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uTime"</span><span class="p">:</span><span class="s2">"1611033737572"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"traderCode"</span><span class="p">:</span><span class="s2">"DSK2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rfqId"</span><span class="p">:</span><span class="s2">"22534"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clRfqId"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="s2">"active"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"flowType"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"validUntil"</span><span class="p">:</span><span class="s2">"1611033857557"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"allowPartialExecution"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"counterparties"</span><span class="p">:[</span><span class="w">
                </span><span class="s2">"DSK4"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"DSK5"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"legs"</span><span class="p">:[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"BTCUSD-211208-36000-C"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="s2">"cross"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="s2">"25.0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"long"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tgtCcy"</span><span class="p">:</span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"instId"</span><span class="p">:</span><span class="s2">"ETHUSD-211208-45000-C"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tdMode"</span><span class="p">:</span><span class="s2">"cross"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"ccy"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"sz"</span><span class="p">:</span><span class="s2">"25.0"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"side"</span><span class="p">:</span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"long"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"tgtCcy"</span><span class="p">:</span><span class="s2">""</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="block-trading-websocket-private-channel-rfqs-channel-push-data-parameters">Push data parameters</h4>
<table><thead>
<tr>
<th><strong>Parameters</strong></th>
<th><strong>Types</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead><tbody>
<tr>
<td>arg</td>
<td>Object</td>
<td>Successfully subscribed channel</td>
</tr>
<tr>
<td>&gt; channel</td>
<td>String</td>
<td>Channel name</td>
</tr>
<tr>
<td>&gt; uid</td>
<td>String</td>
<td>User Identifier</td>
</tr>
<tr>
<td>data</td>
<td>Array of objects</td>
<td>Subscribed data</td>
</tr>
<tr>
<td>&gt; cTime</td>
<td>String</td>
<td>The timestamp the RFQ was created, Unix timestamp format in milliseconds.</td>
</tr>
<tr>
<td>&gt; uTime</td>
<td>String</td>
<td>The timestamp the RFQ was updated latest, Unix timestamp format in milliseconds.</td>
</tr>
<tr>
<td>&gt; state</td>
<td>String</td>
<td>The status of the RFQ. Valid values can be <code>active</code>, <code>canceled</code>, <code>filled</code>, <code>expired</code> <code>traded_away</code> or <code>failed</code>. <br/> <code>traded_away</code> only applies to Maker.</td>
</tr>
<tr>
<td>&gt; counterparties</td>
<td>Array of Strings</td>
<td>The list of counterparties traderCode the RFQ was broadcasted to.</td>
</tr>
<tr>
<td>&gt; validUntil</td>
<td>String</td>
<td>The timestamp the RFQ expires. Unix timestamp format in milliseconds.</td>
</tr>
<tr>
<td>&gt; clRfqId</td>
<td>String</td>
<td>Client-supplied RFQ ID. This attribute is treated as client sensitive information. It will not be exposed to the Maker. Return empty for Maker, eg. "".</td>
</tr>
<tr>
<td>&gt; tag</td>
<td>String</td>
<td>RFQ tag. The block trade associated with the RFQ will have the same tag.</td>
</tr>
<tr>
<td>&gt; flowType</td>
<td>String</td>
<td>Identify the type of the RFQ. <br/>Only applicable to Makers, return "" for Takers</td>
</tr>
<tr>
<td>&gt; traderCode</td>
<td>String</td>
<td>A unique identifier of taker. Empty If anonymous mode is <code>True</code>.</td>
</tr>
<tr>
<td>&gt; rfqId</td>
<td>String</td>
<td>RFQ ID</td>
</tr>
<tr>
<td>&gt; allowPartialExecution</td>
<td>Boolean</td>
<td>Whether the RFQ can be partially filled provided that the shape of legs stays the same. <br/>Valid value is <code>true</code> or <code>false</code>. <br/><code>false</code> by default.</td>
</tr>
<tr>
<td>&gt; legs</td>
<td>Array of objects</td>
<td>An Array of objects containing each leg of the RFQ.</td>
</tr>
<tr>
<td>&gt;&gt; instId</td>
<td>String</td>
<td>Instrument ID, e.g. BTC-USDT-SWAP</td>
</tr>
<tr>
<td>&gt;&gt; tdMode</td>
<td>String</td>
<td>Trade mode <br/>Margin mode: <code>cross</code> <code>isolated</code> <br/>Non-Margin mode: <code>cash</code>. <br/>If not provided, tdMode will inherit default values set by the system shown below: <br/>Futures mode &amp; SPOT: <code>cash</code> <br/>Buy options in Futures mode and Multi-currency Margin: <code>isolated</code> <br/>Other cases: <code>cross</code></td>
</tr>
<tr>
<td>&gt;&gt; ccy</td>
<td>String</td>
<td>Margin currency. <br/>Only applicable to <code>cross</code> <code>MARGIN</code> orders in <code>Futures mode</code>. The parameter will be ignored in other scenarios.</td>
</tr>
<tr>
<td>&gt;&gt; sz</td>
<td>String</td>
<td>Size of the leg.</td>
</tr>
<tr>
<td>&gt;&gt; side</td>
<td>String</td>
<td>The direction of the leg. Valid values can be buy or sell.</td>
</tr>
<tr>
<td>&gt;&gt; posSide</td>
<td>String</td>
<td>Position side. <br/>The default is <code>net</code> in the net mode. If not specified, return "", which is equivalent to net. <br/>It can only be <code>long</code> or <code>short</code> in the long/short mode. If not specified, return "", which corresponds to the direction that opens new positions for the trade (buy =&gt; long, sell =&gt; short). <br/>Only applicable to <code>FUTURES</code>/<code>SWAP</code>.</td>
</tr>
<tr>
<td>&gt;&gt; tgtCcy</td>
<td>String</td>
<td>Defines the unit of the “sz” attribute. <br/>Only applicable to instType = SPOT. <br/>The valid enumerations are <code>base_ccy</code> and <code>quote_ccy</code>. When not specified this is equal to <code>base_ccy</code> by default.</td>
</tr>
<tr>
<td>&gt;&gt; tradeQuoteCcy</td>
<td>String</td>
<td>The quote currency used for trading. Only applicable to SPOT. <br/>The default value is the quote currency of the instId, for example: for <code>BTC-USD</code>, the default is <code>USD</code>.</td>
</tr>
</tbody></table>
<aside class="notice">
state: pending_fill is a kind of moment state, and this channel doesn't update it.
</aside>
