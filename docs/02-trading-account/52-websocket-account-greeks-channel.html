<h3 id="trading-account-websocket-account-greeks-channel">Account greeks channel</h3>
<p>Retrieve account greeks information. Data will be pushed when triggered by events such as increase/decrease positions or cash balance in account, 
and will also be pushed in regular interval according to subscription granularity.<br/>
Concurrent connection to this channel will be restricted by the following rules: <a href="/docs-v5/en/#overview-websocket-connection-count-limit">WebSocket connection count limit</a>.</p>
<h4 id="trading-account-websocket-account-greeks-channel-url-path">URL Path</h4>
<p>/ws/v5/private (required login)</p>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="o">{</span>
    <span class="s2">"id"</span>: <span class="s2">"1512"</span>,
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"account-greeks"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">asyncio</span>

<span class="kn">from</span> <span class="nn">okx.websocket.WsPrivateAsync</span> <span class="kn">import</span> <span class="n">WsPrivateAsync</span>


<span class="k">def</span> <span class="nf">callbackFunc</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>

    <span class="n">ws</span> <span class="o">=</span> <span class="n">WsPrivateAsync</span><span class="p">(</span>
        <span class="n">apiKey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span><span class="p">,</span>
        <span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span><span class="p">,</span>
        <span class="n">secretKey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span><span class="p">,</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s">"wss://ws.okx.com:8443/ws/v5/private"</span><span class="p">,</span>
        <span class="n">useServerTime</span><span class="o">=</span><span class="bp">False</span>
    <span class="p">)</span>
    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">start</span><span class="p">()</span>
    <span class="n">args</span> <span class="o">=</span> <span class="p">[{</span>
        <span class="s">"channel"</span><span class="p">:</span> <span class="s">"account-greeks"</span>
    <span class="p">}]</span>

    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">callbackFunc</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">unsubscribe</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">callbackFunc</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>


<span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>

</code></pre></div><h4 id="trading-account-websocket-account-greeks-channel-request-parameters">Request Parameters</h4>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">No</td>
<td style="text-align: left">Unique identifier of the message  <br/>Provided by client. It will be returned in response message for identifying the corresponding request. <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.</td>
</tr>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Operation<br/><code>subscribe</code> <code>unsubscribe</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">List of subscribed channels</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Channel name<br/><code>account-greeks</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">No</td>
<td style="text-align: left">Settlement currency<br/>When the user specifies a settlement currency, event push will only be triggered when the position of the same settlement currency changes. For example, when ccy=BTC, if the position of <code>BTC-USDT-SWAP</code> changes, no event push will be triggered.</td>
</tr>
</tbody></table>
<blockquote>
<p>Successful Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"account-greeks"</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Failure Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">account-greeks</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">ccy</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">BTC</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="trading-account-websocket-account-greeks-channel-response-parameters">Response parameters</h4>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td style="text-align: left">No</td>
<td style="text-align: left">Unique identifier of the message</td>
</tr>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Operation<br/><code>subscribe</code><br/><code>unsubscribe</code><br/><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">No</td>
<td style="text-align: left">Subscribed channel</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Channel name,<code>account-greeks</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">No</td>
<td style="text-align: left">Settlement currency</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">No</td>
<td style="text-align: left">Error code</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">No</td>
<td style="text-align: left">Error message</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">WebSocket connection ID</td>
</tr>
</tbody></table>
<blockquote>
<p>Push Data Example: single</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"account-greeks"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"614488474791936"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deltaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.1246665401944310"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deltaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0074076183688949"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gammaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000000000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gammaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0148152367377899"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"thetaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.0356991946421226"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"thetaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0000000200174309"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1729179082006"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vegaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000000000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vegaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000000000000000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Push Data Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"account-greeks"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"614488474791936"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deltaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.1246665403011684"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deltaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0074021163991037"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gammaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000000000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gammaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0148042327982075"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"thetaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.1342098201092528"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"thetaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0000000200876441"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1729179001692"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vegaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000000000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vegaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000000000000000"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deltaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3810670161698570"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deltaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0688347042402955"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gammaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0000000000230396"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gammaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1376693483440320"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"thetaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.3314776517141782"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"thetaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000000001316008"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1729179001692"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vegaBS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0000000045069794"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vegaPA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.0000000000017267"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="trading-account-websocket-account-greeks-channel-push-data-parameters">Push data parameters</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>Parameters</strong></th>
<th style="text-align: left"><strong>Types</strong></th>
<th style="text-align: left"><strong>Description</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td style="text-align: left">Successfully subscribed channel</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Channel name</td>
</tr>
<tr>
<td style="text-align: left">&gt; uid</td>
<td style="text-align: left">String</td>
<td style="text-align: left">User Identifier</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">Subscribed data</td>
</tr>
<tr>
<td style="text-align: left">&gt; deltaBS</td>
<td style="text-align: left">String</td>
<td style="text-align: left">delta: Black-Scholes Greeks in dollars</td>
</tr>
<tr>
<td style="text-align: left">&gt; deltaPA</td>
<td style="text-align: left">String</td>
<td style="text-align: left">delta: Greeks in coins</td>
</tr>
<tr>
<td style="text-align: left">&gt; gammaBS</td>
<td style="text-align: left">String</td>
<td style="text-align: left">gamma: Black-Scholes Greeks in dollars, only applicable to OPTION cross</td>
</tr>
<tr>
<td style="text-align: left">&gt; gammaPA</td>
<td style="text-align: left">String</td>
<td style="text-align: left">gamma: Greeks in coins, only applicable to OPTION cross</td>
</tr>
<tr>
<td style="text-align: left">&gt; thetaBS</td>
<td style="text-align: left">String</td>
<td style="text-align: left">theta: Black-Scholes Greeks in dollars, only applicable to OPTION cross</td>
</tr>
<tr>
<td style="text-align: left">&gt; thetaPA</td>
<td style="text-align: left">String</td>
<td style="text-align: left">theta: Greeks in coins, only applicable to OPTION cross</td>
</tr>
<tr>
<td style="text-align: left">&gt; vegaBS</td>
<td style="text-align: left">String</td>
<td style="text-align: left">vega: Black-Scholes Greeks in dollars, only applicable to OPTION cross</td>
</tr>
<tr>
<td style="text-align: left">&gt; vegaPA</td>
<td style="text-align: left">String</td>
<td style="text-align: left">vega: Greeks in coins, only applicable to OPTION cross</td>
</tr>
<tr>
<td style="text-align: left">&gt; ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Currency</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Push time of account greeks, Unix timestamp format in milliseconds, e.g. 1597026383085</td>
</tr>
</tbody></table>
<aside class="notice"> 
The account greeks data is sent on event basis and regular basis
<br/> - The event push is not pushed in real-time. It is aggregated and pushed at a fixed time interval, around 50ms. For example, if multiple events occur within a fixed time interval, the system will aggregate them into a single message and push it at the end of the fixed time interval. If the data volume is too large, it may be split into multiple messages.
<br/> - When the user specifies a settlement currency in the subscribe request, event push will only be triggered when the position of the same settlement currency changes. For example, when subscribe `ccy`=BTC, if the position of `BTC-USDT-SWAP` changes, no event push will be triggered.
<br/> - The regular push sends updates regardless of whether there are activities or not.
</aside>
<aside class="notice">
<br/> - Only currencies in the account will be pushed. If the data is too large to be sent in a single push message, it will be split into multiple messages.
<br/> - For example, when subscribing to account-greeks channel without specifying ccy and there are 5 currencies are with non-zero balance, all 5 currencies data will be pushed in initial snapshot and in regular interval. Subsequently when there is change in balance or equity of an token, only the incremental data of that currency will be pushed triggered by this change.
</aside>
<h1 id="order-book-trading">Order Book Trading</h1><h2 id="order-book-trading-trade">Trade</h2>
<p>All <code>Trade</code> API endpoints require authentication.</p>
