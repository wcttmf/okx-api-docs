<h3 id="trading-account-rest-api-set-leverage">Set leverage</h3>
<p><br/>There are 10 different scenarios for leverage setting: <br/><br/>
1. Set leverage for <code>MARGIN</code> instruments under <code>isolated-margin</code> trade mode at pairs level. <br/>
2. Set leverage for <code>MARGIN</code> instruments under <code>cross-margin</code> trade mode and Spot mode (enabled borrow) at currency level. <br/>
3. Set leverage for <code>MARGIN</code> instruments under <code>cross-margin</code> trade mode and Futures mode account mode at pairs level. <br/>
4. Set leverage for <code>MARGIN</code> instruments under <code>cross-margin</code> trade mode and Multi-currency margin at currency level. <br/>
5. Set leverage for <code>MARGIN</code> instruments under <code>cross-margin</code> trade mode and Portfolio margin at currency level. <br/>
6. Set leverage for <code>FUTURES</code> instruments under <code>cross-margin</code> trade mode at underlying level. <br/>
7. Set leverage for <code>FUTURES</code> instruments under <code>isolated-margin</code> trade mode and buy/sell position mode at contract level. <br/>
8. Set leverage for <code>FUTURES</code> instruments under <code>isolated-margin</code> trade mode and long/short position mode at contract and position side level. <br/>
9. Set leverage for <code>SWAP</code> instruments under <code>cross-margin</code> trade at contract level. <br/>
10. Set leverage for <code>SWAP</code> instruments under <code>isolated-margin</code> trade mode and buy/sell position mode at contract level. <br/>
11. Set leverage for <code>SWAP</code> instruments under <code>isolated-margin</code> trade mode and long/short position mode at contract and position side level. <br/><br/></p>
<p>Note that the request parameter <code>posSide</code> is only required when margin mode is isolated in long/short position mode for FUTURES/SWAP instruments (see scenario 8 and 11 above). <br/>
Please refer to the request examples on the right for each case. <br/></p>
<h4 id="trading-account-rest-api-set-leverage-rate-limit-20-requests-per-2-seconds">Rate limit: 20 requests per 2 seconds</h4><h4 id="trading-account-rest-api-set-leverage-rate-limit-rule-user-id">Rate limit rule: User ID</h4><h4 id="trading-account-rest-api-set-leverage-permission-trade">Permission: Trade</h4><h4 id="trading-account-rest-api-set-leverage-http-request">HTTP Request</h4>
<p><code>POST /api/v5/account/set-leverage</code></p>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># 1. Set leverage for `MARGIN` instruments under `isolated-margin` trade mode at pairs level.</span>
POST /api/v5/account/set-leverage
body
<span class="o">{</span>
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT"</span>,
    <span class="s2">"lever"</span>:<span class="s2">"5"</span>,
    <span class="s2">"mgnMode"</span>:<span class="s2">"isolated"</span>
<span class="o">}</span>

<span class="c"># 2. Set leverage for `MARGIN` instruments under `cross-margin` trade mode and Spot mode (enabled borrow) at currency level.</span>
POST /api/v5/account/set-leverage
body
<span class="o">{</span>
    <span class="s2">"ccy"</span>:<span class="s2">"BTC"</span>,
    <span class="s2">"lever"</span>:<span class="s2">"5"</span>,
    <span class="s2">"mgnMode"</span>:<span class="s2">"cross"</span>
<span class="o">}</span>

<span class="c"># 3. Set leverage for `MARGIN` instruments under `cross-margin` trade mode and Futures mode account mode at pairs level.</span>
POST /api/v5/account/set-leverage
body
<span class="o">{</span>
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT"</span>,
    <span class="s2">"lever"</span>:<span class="s2">"5"</span>,
    <span class="s2">"mgnMode"</span>:<span class="s2">"cross"</span>
<span class="o">}</span>

<span class="c"># 4. Set leverage for `MARGIN` instruments under `cross-margin` trade mode and Multi-currency margin at currency level.</span>
POST /api/v5/account/set-leverage
body
<span class="o">{</span>
    <span class="s2">"ccy"</span>:<span class="s2">"BTC"</span>,
    <span class="s2">"lever"</span>:<span class="s2">"5"</span>,
    <span class="s2">"mgnMode"</span>:<span class="s2">"cross"</span>
<span class="o">}</span>

<span class="c"># 5. Set leverage for `MARGIN` instruments under `cross-margin` trade mode and Portfolio margin at currency level.</span>
POST /api/v5/account/set-leverage
body
<span class="o">{</span>
    <span class="s2">"ccy"</span>:<span class="s2">"BTC"</span>,
    <span class="s2">"lever"</span>:<span class="s2">"5"</span>,
    <span class="s2">"mgnMode"</span>:<span class="s2">"cross"</span>
<span class="o">}</span>

<span class="c"># 6. Set leverage for `FUTURES` instruments under `cross-margin` trade mode at underlying level.</span>
POST /api/v5/account/set-leverage
body
<span class="o">{</span>
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT-200802"</span>,
    <span class="s2">"lever"</span>:<span class="s2">"5"</span>,
    <span class="s2">"mgnMode"</span>:<span class="s2">"cross"</span>
<span class="o">}</span>

<span class="c"># 7. Set leverage for `FUTURES` instruments under `isolated-margin` trade mode and buy/sell order placement mode at contract level.</span>
POST /api/v5/account/set-leverage
body
<span class="o">{</span>
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT-200802"</span>,
    <span class="s2">"lever"</span>:<span class="s2">"5"</span>,
    <span class="s2">"mgnMode"</span>:<span class="s2">"isolated"</span>
<span class="o">}</span>

<span class="c"># 8. Set leverage for `FUTURES` instruments under `isolated-margin` trade mode and long/short order placement mode at contract and position side level.</span>
POST /api/v5/account/set-leverage
body
<span class="o">{</span>
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT-200802"</span>,
    <span class="s2">"lever"</span>:<span class="s2">"5"</span>,
    <span class="s2">"posSide"</span>:<span class="s2">"long"</span>,
    <span class="s2">"mgnMode"</span>:<span class="s2">"isolated"</span>
<span class="o">}</span>

<span class="c"># 9. Set leverage for `SWAP` instruments under `cross-margin` trade at contract level.</span>
POST /api/v5/account/set-leverage
body
<span class="o">{</span>
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT-SWAP"</span>,
    <span class="s2">"lever"</span>:<span class="s2">"5"</span>,
    <span class="s2">"mgnMode"</span>:<span class="s2">"cross"</span>
<span class="o">}</span>

<span class="c"># 10. Set leverage for `SWAP` instruments under `isolated-margin` trade mode and buy/sell order placement mode at contract level.</span>
POST /api/v5/account/set-leverage
body
<span class="o">{</span>
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT-SWAP"</span>,
    <span class="s2">"lever"</span>:<span class="s2">"5"</span>,
    <span class="s2">"mgnMode"</span>:<span class="s2">"isolated"</span>
<span class="o">}</span>

<span class="c"># 11. Set leverage for `SWAP` instruments under `isolated-margin` trade mode and long/short order placement mode at contract and position side level.</span>
POST /api/v5/account/set-leverage
body
<span class="o">{</span>
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT-SWAP"</span>,
    <span class="s2">"lever"</span>:<span class="s2">"5"</span>,
    <span class="s2">"posSide"</span>:<span class="s2">"long"</span>,
    <span class="s2">"mgnMode"</span>:<span class="s2">"isolated"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">okx.Account</span> <span class="k">as</span> <span class="n">Account</span>

<span class="c1"># API initialization
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># Production trading:0 , demo trading:1
</span>
<span class="n">accountAPI</span> <span class="o">=</span> <span class="n">Account</span><span class="p">.</span><span class="n">AccountAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># Set leverage for MARGIN instruments under isolated-margin trade mode at pairs level.
</span><span class="n">result</span> <span class="o">=</span> <span class="n">accountAPI</span><span class="p">.</span><span class="n">set_leverage</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT"</span><span class="p">,</span>
    <span class="n">lever</span><span class="o">=</span><span class="s">"5"</span><span class="p">,</span>
    <span class="n">mgnMode</span><span class="o">=</span><span class="s">"isolated"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="trading-account-rest-api-set-leverage-request-parameters">Request Parameters</h4>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Conditional</td>
<td style="text-align: left">Instrument ID<br/> Only applicable to <code>cross</code> <code>FUTURES</code> <code>SWAP</code> of <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>, <code>cross</code> <code>MARGIN</code><code>FUTURES</code><code>SWAP</code> and <code>isolated</code> position.<br/> And required in applicable scenarios.</td>
</tr>
<tr>
<td style="text-align: left">ccy</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Conditional</td>
<td style="text-align: left">Currency used for margin, used for the leverage setting for the currency in auto borrow.<br/>Only applicable to <code>cross</code> <code>MARGIN</code> of <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>.<br/> And required in applicable scenarios.</td>
</tr>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Leverage</td>
</tr>
<tr>
<td style="text-align: left">mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Margin mode<br/><code>isolated</code> <code>cross</code> <br/>Can only be <code>cross</code> if <code>ccy</code> is passed.</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Conditional</td>
<td style="text-align: left">Position side<br/><code>long</code> <code>short</code><br/>Only required when margin mode is <code>isolated</code> in <code>long/short</code> mode for <code>FUTURES</code>/<code>SWAP</code>.</td>
</tr>
</tbody></table>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"lever"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mgnMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isolated"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT-SWAP"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">"long"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="trading-account-rest-api-set-leverage-response-parameters">Response Parameters</h4>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">lever</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Leverage</td>
</tr>
<tr>
<td style="text-align: left">mgnMode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Margin mode<br/><code>cross</code> <code>isolated</code></td>
</tr>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Instrument ID</td>
</tr>
<tr>
<td style="text-align: left">posSide</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Position side</td>
</tr>
</tbody></table>
<aside class="notice">
When setting leverage for `cross` `FUTURES`/`SWAP` at the underlying level, pass in any instId and mgnMode(`cross`).
</aside>
<aside class="notice">
Leverage cannot be adjusted for the cross positions of Expiry Futures and Perpetual Futures under the portfolio margin account.
</aside>
