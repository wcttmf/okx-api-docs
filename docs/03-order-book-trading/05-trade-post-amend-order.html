<h3 id="order-book-trading-trade-post-amend-order">POST / Amend order</h3>
<p>Amend an incomplete order.</p>
<h4 id="order-book-trading-trade-post-amend-order-rate-limit-60-requests-per-2-seconds">Rate Limit: 60 requests per 2 seconds</h4><h4 id="order-book-trading-trade-post-amend-order-rate-limit-of-lead-trader-lead-instruments-for-copy-trading-4-requests-per-2-seconds">Rate Limit of lead trader lead instruments for Copy Trading: 4 requests per 2 seconds</h4><h4 id="order-book-trading-trade-post-amend-order-rate-limit-rule-except-options-user-id-instrument-id">Rate limit rule (except Options): User ID + Instrument ID</h4><h4 id="order-book-trading-trade-post-amend-order-rate-limit-rule-options-only-user-id-instrument-family">Rate limit rule (Options only): User ID + Instrument Family</h4><h4 id="order-book-trading-trade-post-amend-order-permission-trade">Permission: Trade</h4>
<p>Rate limit of this endpoint will also be affected by the rules <a href="/docs-v5/en/#overview-rate-limits-sub-account-rate-limit">Sub-account rate limit</a> and <a href="/docs-v5/en/#overview-rate-limits-fill-ratio-based-sub-account-rate-limit">Fill ratio based sub-account rate limit</a>.</p>
<h4 id="order-book-trading-trade-post-amend-order-http-request">HTTP Request</h4>
<p><code>POST /api/v5/trade/amend-order</code></p>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>POST /api/v5/trade/amend-order
body
<span class="o">{</span>
    <span class="s2">"ordId"</span>:<span class="s2">"590909145319051111"</span>,
    <span class="s2">"newSz"</span>:<span class="s2">"2"</span>,
    <span class="s2">"instId"</span>:<span class="s2">"BTC-USDT"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">okx.Trade</span> <span class="k">as</span> <span class="n">Trade</span>

<span class="c1"># API initialization
</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span>
<span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s">"1"</span>  <span class="c1"># Production trading: 0, Demo trading: 1
</span>
<span class="n">tradeAPI</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">.</span><span class="n">TradeAPI</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">,</span> <span class="n">passphrase</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

<span class="c1"># Amend order
</span><span class="n">result</span> <span class="o">=</span> <span class="n">tradeAPI</span><span class="p">.</span><span class="n">amend_order</span><span class="p">(</span>
    <span class="n">instId</span><span class="o">=</span><span class="s">"BTC-USDT"</span><span class="p">,</span>
    <span class="n">ordId</span><span class="o">=</span><span class="s">"590909145319051111"</span><span class="p">,</span>
    <span class="n">newSz</span><span class="o">=</span><span class="s">"2"</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div><h4 id="order-book-trading-trade-post-amend-order-request-parameters">Request Parameters</h4>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">instId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Instrument ID</td>
</tr>
<tr>
<td style="text-align: left">cxlOnFail</td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left">No</td>
<td style="text-align: left">Whether the order needs to be automatically canceled when the order amendment fails  <br/>Valid options: <code>false</code> or <code>true</code>, the default is <code>false</code>.</td>
</tr>
<tr>
<td style="text-align: left">ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Conditional</td>
<td style="text-align: left">Order ID  <br/>Either <code>ordId</code> or <code>clOrdId</code> is required. If both are passed, <code>ordId</code> will be used.</td>
</tr>
<tr>
<td style="text-align: left">clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Conditional</td>
<td style="text-align: left">Client Order ID as assigned by the client</td>
</tr>
<tr>
<td style="text-align: left">reqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">No</td>
<td style="text-align: left">Client Request ID as assigned by the client for order amendment <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters. <br/>The response will include the corresponding <code>reqId</code> to help you identify the request if you provide it in the request.</td>
</tr>
<tr>
<td style="text-align: left">newSz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Conditional</td>
<td style="text-align: left">New quantity after amendment and it has to be larger than 0. When amending a partially-filled order, the <code>newSz</code> should include the amount that has been filled.</td>
</tr>
<tr>
<td style="text-align: left">newPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Conditional</td>
<td style="text-align: left">New price after amendment. <br/>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol. It must be consistent with parameters when placing orders. For example, if users placed the order using px, they should use newPx when modifying the order.</td>
</tr>
<tr>
<td style="text-align: left">newPxUsd</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Conditional</td>
<td style="text-align: left">Modify options orders using USD prices <br/>Only applicable to options. <br/>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol.</td>
</tr>
<tr>
<td style="text-align: left">newPxVol</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Conditional</td>
<td style="text-align: left">Modify options orders based on implied volatility, where 1 represents 100% <br/>Only applicable to options. <br/>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol.</td>
</tr>
<tr>
<td style="text-align: left">pxAmendType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">No</td>
<td style="text-align: left">The price amendment type for orders<br/><code>0</code>: Do not allow the system to amend to order price if <code>newPx</code> exceeds the price limit <br/><code>1</code>: Allow the system to amend the price to the best available value within the price limit if <code>newPx</code> exceeds the price limit<br/> The default value is <code>0</code></td>
</tr>
<tr>
<td style="text-align: left">attachAlgoOrds</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">No</td>
<td style="text-align: left">TP/SL information attached when placing order</td>
</tr>
<tr>
<td style="text-align: left">&gt; attachAlgoId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Conditional</td>
<td style="text-align: left">The order ID of attached TP/SL order. It is required to identity the TP/SL order when amending. It will not be posted to algoId when placing TP/SL order after the general order is filled completely.</td>
</tr>
<tr>
<td style="text-align: left">&gt; attachAlgoClOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Conditional</td>
<td style="text-align: left">Client-supplied Algo ID when placing order attaching TP/SL<br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.<br/>It will be posted to <code>algoClOrdId</code> when placing TP/SL order once the general order is filled completely.</td>
</tr>
<tr>
<td style="text-align: left">&gt; newTpTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Conditional</td>
<td style="text-align: left">Take-profit trigger price. <br/>Either the take profit trigger price or order price is 0, it means that the take profit is deleted.</td>
</tr>
<tr>
<td style="text-align: left">&gt; newTpOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Conditional</td>
<td style="text-align: left">Take-profit order price<br/>If the price is -1, take-profit will be executed at the market price.</td>
</tr>
<tr>
<td style="text-align: left">&gt; newTpOrdKind</td>
<td style="text-align: left">String</td>
<td style="text-align: left">No</td>
<td style="text-align: left">TP order kind<br/><code>condition</code><br/><code>limit</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; newSlTriggerPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Conditional</td>
<td style="text-align: left">Stop-loss trigger price<br/>Either the stop loss trigger price or order price is 0, it means that the stop loss is deleted.</td>
</tr>
<tr>
<td style="text-align: left">&gt; newSlOrdPx</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Conditional</td>
<td style="text-align: left">Stop-loss order price<br/>If the price is -1, stop-loss will be executed at the market price.</td>
</tr>
<tr>
<td style="text-align: left">&gt; newTpTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Conditional</td>
<td style="text-align: left">Take-profit trigger price type<br/><code>last</code>: last price <br/><code>index</code>: index price <br/><code>mark</code>: mark price<br/>Only applicable to <code>FUTURES</code>/<code>SWAP</code><br/>If you want to add the take-profit, this parameter is required</td>
</tr>
<tr>
<td style="text-align: left">&gt; newSlTriggerPxType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Conditional</td>
<td style="text-align: left">Stop-loss trigger price type<br/><code>last</code>: last price <br/><code>index</code>: index price <br/><code>mark</code>: mark price<br/>Only applicable to <code>FUTURES</code>/<code>SWAP</code><br/>If you want to add the stop-loss, this parameter is required</td>
</tr>
<tr>
<td style="text-align: left">&gt; sz</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Conditional</td>
<td style="text-align: left">New size. Only applicable to TP order of split TPs, and it is required for TP order of split TPs</td>
</tr>
<tr>
<td style="text-align: left">&gt; amendPxOnTriggerType</td>
<td style="text-align: left">String</td>
<td style="text-align: left">No</td>
<td style="text-align: left">Whether to enable Cost-price SL. Only applicable to SL order of split TPs. <br/><code>0</code>: disable, the default value <br/><code>1</code>: Enable</td>
</tr>
</tbody></table>
<blockquote>
<p>Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
         </span><span class="nl">"clOrdId"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ordId"</span><span class="p">:</span><span class="s2">"12344"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"ts"</span><span class="p">:</span><span class="s2">"1695190491421"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"reqId"</span><span class="p">:</span><span class="s2">"b12344"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"sCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"sMsg"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"inTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491421339"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"outTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1695190491423240"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="order-book-trading-trade-post-amend-order-response-parameters">Response Parameters</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>Parameter</strong></th>
<th style="text-align: left"><strong>Type</strong></th>
<th style="text-align: left"><strong>Description</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">The result code, <code>0</code> means success</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">The error message, empty if the code is 0</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">Array of objects contains the response results</td>
</tr>
<tr>
<td style="text-align: left">&gt; ordId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Order ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; clOrdId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Client Order ID as assigned by the client</td>
</tr>
<tr>
<td style="text-align: left">&gt; ts</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Timestamp when the order request processing is finished by our system, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; reqId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Client Request ID as assigned by the client for order amendment.</td>
</tr>
<tr>
<td style="text-align: left">&gt; sCode</td>
<td style="text-align: left">String</td>
<td style="text-align: left">The code of the event execution result, <code>0</code> means success.</td>
</tr>
<tr>
<td style="text-align: left">&gt; sMsg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Rejection message if the request is unsuccessful.</td>
</tr>
<tr>
<td style="text-align: left">inTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Timestamp at REST gateway when the request is received, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code> <br/>The time is recorded after authentication.</td>
</tr>
<tr>
<td style="text-align: left">outTime</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Timestamp at REST gateway when the response is sent, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code></td>
</tr>
</tbody></table>
<aside class="notice">
newSz <br/>
If the new quantity of the order is less than or equal to the filled quantity when you are amending a partially-filled order, the order status will be changed to filled.
</aside>
<aside class="notice">
The amend order returns sCode equal to 0. It is not strictly considered that the order has been amended. It only means that your amend order request has been accepted by the system server. The result of the amend is subject to the status pushed by the order channel or the order status query
</aside>
