<h3 id="order-book-trading-recurring-buy-ws-recurring-buy-orders-channel">WS / Recurring buy orders channel</h3>
<p>Retrieve recurring buy orders. Data will be pushed when triggered by events. It will also be pushed in regular interval according to subscription granularity.</p>
<h4 id="order-book-trading-recurring-buy-ws-recurring-buy-orders-channel-url-path">URL Path</h4>
<p>/ws/v5/business (required login)</p>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="o">{</span>
    <span class="s2">"id"</span>: <span class="s2">"1512"</span>,
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"algo-recurring-buy"</span>,
        <span class="s2">"instType"</span>: <span class="s2">"SPOT"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">asyncio</span>

<span class="kn">from</span> <span class="nn">okx.websocket.WsPrivateAsync</span> <span class="kn">import</span> <span class="n">WsPrivateAsync</span>


<span class="k">def</span> <span class="nf">callbackFunc</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>

    <span class="n">ws</span> <span class="o">=</span> <span class="n">WsPrivateAsync</span><span class="p">(</span>
        <span class="n">apiKey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span><span class="p">,</span>
        <span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span><span class="p">,</span>
        <span class="n">secretKey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span><span class="p">,</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s">"wss://ws.okx.com:8443/ws/v5/business"</span><span class="p">,</span>
        <span class="n">useServerTime</span><span class="o">=</span><span class="bp">False</span>
    <span class="p">)</span>
    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">start</span><span class="p">()</span>
    <span class="n">args</span> <span class="o">=</span> <span class="p">[{</span>
        <span class="s">"channel"</span><span class="p">:</span> <span class="s">"algo-recurring-buy"</span><span class="p">,</span>
        <span class="s">"instType"</span><span class="p">:</span> <span class="s">"SPOT"</span>
    <span class="p">}]</span>

    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">callbackFunc</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">unsubscribe</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">callbackFunc</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>


<span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>

</code></pre></div><h4 id="order-book-trading-recurring-buy-ws-recurring-buy-orders-channel-request-parameters">Request Parameters</h4>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td>No</td>
<td>Unique identifier of the message  <br/>Provided by client. It will be returned in response message for identifying the corresponding request. <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.</td>
</tr>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td>Yes</td>
<td>Operation<br/><code>subscribe</code><br/><code>unsubscribe</code><br/></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array of objects</td>
<td>Yes</td>
<td>List of subscribed channels</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>Yes</td>
<td>Channel name<br/><code>algo-recurring-buy</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td>Yes</td>
<td>Instrument type<br/><code>SPOT</code><br/><code>ANY</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td>No</td>
<td>Algo Order ID</td>
</tr>
</tbody></table>
<blockquote>
<p>Successful Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"algo-recurring-buy"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
        </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Failure Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">algo-recurring-buy</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">instType</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">FUTURES</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="order-book-trading-recurring-buy-ws-recurring-buy-orders-channel-response-parameters">Response parameters</h4>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td>No</td>
<td>Unique identifier of the message</td>
</tr>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td>Yes</td>
<td>Event<br/><code>subscribe</code><br/><code>unsubscribe</code><br/><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td>No</td>
<td>Subscribed channel</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>Yes</td>
<td>Channel name</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td>Yes</td>
<td>Instrument type</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td>No</td>
<td>Algo Order ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td>No</td>
<td>Error code</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td>No</td>
<td>Error message</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td>Yes</td>
<td>WebSocket connection ID</td>
</tr>
</tbody></table>
<blockquote>
<p>Push Data Example: </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"algo-recurring-buy"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"447*******584"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"algoClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"algoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"644497312047435776"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"algoOrdType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recurring"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1699932133373"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cycles"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"investmentAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"investmentCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mktCap"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"nextInvestTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1699934415300"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1699933314691"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hourly"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pnlRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"recurringDay"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"recurringHour"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"recurringList"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36482"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ratio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
        </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ccy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"px"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2057.54"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ratio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.8"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="nl">"recurringTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"running"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"stgyName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stg1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timeZone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalAnnRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1699932136249"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tradeQuoteCcy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="order-book-trading-recurring-buy-ws-recurring-buy-orders-channel-response-parameters-when-data-is-pushed">Response parameters when data is pushed.</h4>
<table><thead>
<tr>
<th style="text-align: left"><strong>Parameter</strong></th>
<th style="text-align: left"><strong>Type</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td>Successfully subscribed channel</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>Channel name</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td>Instrument type</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td>Algo Order ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; uid</td>
<td style="text-align: left">String</td>
<td>User ID</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array of objects</td>
<td>Subscribed data</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoId</td>
<td style="text-align: left">String</td>
<td>Algo ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; algoClOrdId</td>
<td style="text-align: left">String</td>
<td>Client-supplied Algo ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td>Instrument type</td>
</tr>
<tr>
<td style="text-align: left">&gt; cTime</td>
<td style="text-align: left">String</td>
<td>Algo order created time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; uTime</td>
<td style="text-align: left">String</td>
<td>Algo order updated time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; algoOrdType</td>
<td style="text-align: left">String</td>
<td>Algo order type<br/><code>recurring</code>: recurring buy</td>
</tr>
<tr>
<td style="text-align: left">&gt; state</td>
<td style="text-align: left">String</td>
<td>Algo order state<br/><code>running</code><br/><code>stopping</code><br/><code>stopped</code><br/><code>pause</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; stgyName</td>
<td style="text-align: left">String</td>
<td>Custom name for trading bot, no more than 40 characters</td>
</tr>
<tr>
<td style="text-align: left">&gt; recurringList</td>
<td style="text-align: left">Array of objects</td>
<td>Recurring buy info</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; ccy</td>
<td style="text-align: left">String</td>
<td>Recurring buy currency, e.g. <code>BTC</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; ratio</td>
<td style="text-align: left">String</td>
<td>Proportion of recurring currency assets, e.g. "0.2" representing 20%</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; totalAmt</td>
<td style="text-align: left">String</td>
<td>Accumulated quantity in unit of recurring buy currency</td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; profit</td>
<td style="text-align: left">String</td>
<td>Profit in unit of <code>investmentCcy</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; avgPx</td>
<td style="text-align: left">String</td>
<td>Average price of recurring buy, quote currency is <code>investmentCcy</code></td>
</tr>
<tr>
<td style="text-align: left">&gt;&gt; px</td>
<td style="text-align: left">String</td>
<td>Current market price, quote currency is <code>investmentCcy</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; period</td>
<td style="text-align: left">String</td>
<td>Period<br/><code>monthly</code><br/><code>weekly</code><br/><code>daily</code><br/><code>hourly</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; recurringDay</td>
<td style="text-align: left">String</td>
<td>Recurring buy date<br/>When the period is <code>monthly</code>, the value range is an integer of [1,28]<br/>When the period is <code>weekly</code>, the value range is an integer of [1,7]</td>
</tr>
<tr>
<td style="text-align: left">&gt; recurringHour</td>
<td style="text-align: left">String</td>
<td>Recurring buy by hourly<br/><code>1</code>/<code>4</code>/<code>8</code>/<code>12</code>, e.g. <code>4</code> represents "recurring buy every 4 hour"</td>
</tr>
<tr>
<td style="text-align: left">&gt; recurringTime</td>
<td style="text-align: left">String</td>
<td>Recurring buy time, the value range is an integer of [0,23]</td>
</tr>
<tr>
<td style="text-align: left">&gt; timeZone</td>
<td style="text-align: left">String</td>
<td>UTC time zone, the value range is an integer of [-12,14]<br/>e.g. "8" representing UTC+8 (East 8 District), Beijing Time</td>
</tr>
<tr>
<td style="text-align: left">&gt; amt</td>
<td style="text-align: left">String</td>
<td>Quantity invested per cycle</td>
</tr>
<tr>
<td style="text-align: left">&gt; investmentAmt</td>
<td style="text-align: left">String</td>
<td>Accumulate quantity invested</td>
</tr>
<tr>
<td style="text-align: left">&gt; investmentCcy</td>
<td style="text-align: left">String</td>
<td>The invested quantity unit, can only be <code>USDT</code>/<code>USDC</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; nextInvestTime</td>
<td style="text-align: left">String</td>
<td>Next invest time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; totalPnl</td>
<td style="text-align: left">String</td>
<td>Total P&amp;L</td>
</tr>
<tr>
<td style="text-align: left">&gt; totalAnnRate</td>
<td style="text-align: left">String</td>
<td>Total annualized rate of yield</td>
</tr>
<tr>
<td style="text-align: left">&gt; pnlRatio</td>
<td style="text-align: left">String</td>
<td>Rate of yield</td>
</tr>
<tr>
<td style="text-align: left">&gt; mktCap</td>
<td style="text-align: left">String</td>
<td>Market value in unit of <code>USDT</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; cycles</td>
<td style="text-align: left">String</td>
<td>Accumulate recurring buy cycles</td>
</tr>
<tr>
<td style="text-align: left">&gt; tag</td>
<td style="text-align: left">String</td>
<td>Order tag</td>
</tr>
<tr>
<td style="text-align: left">&gt; pTime</td>
<td style="text-align: left">String</td>
<td>Push time of algo order information, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; tradeQuoteCcy</td>
<td style="text-align: left">String</td>
<td>The quote currency for trading.</td>
</tr>
</tbody></table>
<h2 id="order-book-trading-copy-trading">Copy Trading</h2>
<p>Lead trading API Workflow as follows:<br/><br/></p>
<p><strong>1. Apply to become a leading trader.</strong></p>
<ul>
<li>The procedure can refer to <a href="https://www.okx.com/help/11639154398221">How to become a lead trader</a>;<br/></li>
<li>You can know whether you are a lead trader by checking whether <code>roleType</code> or <code>spotRoleType</code> from <a href="/docs-v5/en/#trading-account-rest-api-get-account-configuration">Get account configuration</a> is 1.</li>
</ul>
<p><strong>2. Leading instruments:</strong></p>
<ul>
<li><a href="/docs-v5/en/#order-book-trading-copy-trading-get-leading-instruments">GET / Leading instruments</a> can get instruments that are supported to have leading trades and the instruments that you enable leading trade. For instruments that are disenabled copy trading, you can still trade normally, but copy trading will not be triggered;<br/></li>
<li><a href="/docs-v5/en/#order-book-trading-copy-trading-amend-leading-instruments">Amend leading instruments</a> can amend your leading instruments. You need to set initial leading instruments while applying to become a leading trader. All non-leading contracts can't have position or pending orders for the current request when setting non-leading contracts as leading contracts.<br/></li>
</ul>
<p><strong>3. Open position:</strong> </p>
<ul>
<li>You can open the position by placing order endpoints and channels including <a href="/docs-v5/en/#order-book-trading-trade-post-place-order">Place order</a> endpoint, <a href="/docs-v5/en/#order-book-trading-trade-post-place-multiple-orders">Place multiple orders</a> endpoint, <a href="/docs-v5/en/#order-book-trading-trade-ws-place-order">Place order channel</a>, <a href="/docs-v5/en/#order-book-trading-trade-ws-place-multiple-orders">Place multiple orders channel</a>, <font color="red"><code>tdMode</code> should be <code>spot_isolated</code> for <code>SPOT</code> lead trading.</font> <br/></li>
<li>For buy/sell mode, the orders must be in the same direction as your existing positions and open orders. You can select the direction you want if the instrument does not have position and pending orders.</li>
<li>For long/short mode, you can open long or open short as you want.</li>
</ul>
<p><strong>4. Close position</strong></p>
<ul>
<li>You can close the position with customized price or size by placing order endpoints and channels including <a href="/docs-v5/en/#order-book-trading-trade-post-place-order">Place order</a> endpoint, <a href="/docs-v5/en/#order-book-trading-trade-post-place-multiple-orders">Place multiple orders</a> endpoint, <a href="/docs-v5/en/#order-book-trading-trade-ws-place-order">Place order channel</a>, <a href="/docs-v5/en/#order-book-trading-trade-ws-place-multiple-orders">Place multiple orders channel</a>, or close the position by <a href="/docs-v5/en/#order-book-trading-trade-post-close-positions">Close positions</a> / <a href="/docs-v5/en/#order-book-trading-copy-trading-post-close-lead-position">Close lead position</a>;<br/></li>
<li><a href="/docs-v5/en/#order-book-trading-trade-post-close-positions">Close positions</a> can close certain position under the current instrument(e.g. the long or short position under long/shor mode ), which can contain multiple leading positions;<br/></li>
<li><a href="/docs-v5/en/#order-book-trading-copy-trading-post-close-lead-position">Close lead position</a> can only close a leading position once a time. It is required to pass subPosId which can get from <a href="/docs-v5/en/#order-book-trading-copy-trading-get-existing-lead-positions">Get existing leading positions</a>.</li>
</ul>
<p><strong>5. TP/SL</strong></p>
<ul>
<li>TP/SL can be set by <a href="/docs-v5/en/#order-book-trading-trade-ws-mass-cancel-order">Place algo order</a> or <a href="/docs-v5/en/#order-book-trading-copy-trading-post-place-lead-stop-order">Place lead stop order</a>;<br/></li>
<li><a href="/docs-v5/en/#order-book-trading-trade-ws-mass-cancel-order">Place algo order</a> can set TP/SL for certain position under the current instrument(e.g. the long or short position under long/shor mode ), which can contain multiple leading positions;<br/></li>
<li><a href="/docs-v5/en/#order-book-trading-copy-trading-post-place-lead-stop-order">Place lead stop order</a> set set TP/SL for only a leading position once a time. It is required to pass subPosId which can get from <a href="/docs-v5/en/#order-book-trading-copy-trading-get-existing-lead-positions">Get existing leading positions</a>.</li>
</ul>
