<h3 id="order-book-trading-copy-trading-ws-lead-trading-notification-channel">WS / Lead trading notification channel</h3>
<p>The notification when failing to lead trade.</p>
<h4 id="order-book-trading-copy-trading-ws-lead-trading-notification-channel-url-path">URL Path</h4>
<p>/ws/v5/business (required login)</p>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="o">{</span>
    <span class="s2">"id"</span>: <span class="s2">"1512"</span>,
    <span class="s2">"op"</span>: <span class="s2">"subscribe"</span>,
    <span class="s2">"args"</span>: <span class="o">[{</span>
        <span class="s2">"channel"</span>: <span class="s2">"copytrading-lead-notification"</span>,
        <span class="s2">"instType"</span>: <span class="s2">"SWAP"</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">asyncio</span>

<span class="kn">from</span> <span class="nn">okx.websocket.WsPrivateAsync</span> <span class="kn">import</span> <span class="n">WsPrivateAsync</span>


<span class="k">def</span> <span class="nf">callbackFunc</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>

    <span class="n">ws</span> <span class="o">=</span> <span class="n">WsPrivateAsync</span><span class="p">(</span>
        <span class="n">apiKey</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span><span class="p">,</span>
        <span class="n">passphrase</span> <span class="o">=</span> <span class="s">"YOUR_PASSPHRASE"</span><span class="p">,</span>
        <span class="n">secretKey</span> <span class="o">=</span> <span class="s">"YOUR_SECRET_KEY"</span><span class="p">,</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s">"wss://ws.okx.com:8443/ws/v5/business"</span><span class="p">,</span>
        <span class="n">useServerTime</span><span class="o">=</span><span class="bp">False</span>
    <span class="p">)</span>
    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">start</span><span class="p">()</span>
    <span class="n">args</span> <span class="o">=</span> <span class="p">[{</span>
        <span class="s">"channel"</span><span class="p">:</span> <span class="s">"copytrading-lead-notification"</span><span class="p">,</span>
        <span class="s">"instType"</span><span class="p">:</span> <span class="s">"SWAP"</span>
    <span class="p">}]</span>

    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">callbackFunc</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

    <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">unsubscribe</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">callbackFunc</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>


<span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>

</code></pre></div><h4 id="order-book-trading-copy-trading-ws-lead-trading-notification-channel-request-parameters">Request Parameters</h4>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td>No</td>
<td>Unique identifier of the message  <br/>Provided by client. It will be returned in response message for identifying the corresponding request. <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.</td>
</tr>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td>Yes</td>
<td>Operation<br/><code>subscribe</code><br/><code>unsubscribe</code><br/></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array of objects</td>
<td>Yes</td>
<td>List of subscribed channels</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>Yes</td>
<td>Channel name<br/><code>copytrading-lead-notification</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td>Yes</td>
<td>Instrument type<br/><code>SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td>No</td>
<td>Instrument ID</td>
</tr>
</tbody></table>
<blockquote>
<p>Successful Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"copytrading-lead-notification"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aa993428"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Failure Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60012"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid request: {</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">subscribe</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">argss</span><span class="se">\"</span><span class="s2">:[{ </span><span class="se">\"</span><span class="s2">channel</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">copytrading-lead-notification</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">instType</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">FUTURES</span><span class="se">\"</span><span class="s2">}]}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="order-book-trading-copy-trading-ws-lead-trading-notification-channel-response-parameters">Response parameters</h4>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">String</td>
<td>No</td>
<td>Unique identifier of the message</td>
</tr>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td>Yes</td>
<td>Event<br/><code>subscribe</code><br/><code>unsubscribe</code><br/><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td>No</td>
<td>Subscribed channel</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>Yes</td>
<td>Channel name</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td>Yes</td>
<td>Instrument type<br/><code>SWAP</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td>No</td>
<td>Instrument ID</td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td>No</td>
<td>Error code</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td>No</td>
<td>Error message</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td>Yes</td>
<td>WebSocket connection ID</td>
</tr>
</tbody></table>
<blockquote>
<p>Push Data Example: </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"arg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"copytrading-lead-notification"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"525627088439549953"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"infoType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWAP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxLeadTraderNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"minLeadEq"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"posSide"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subPosId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"667695035433385984"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uniqueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3AF72F63E3EAD701"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="order-book-trading-copy-trading-ws-lead-trading-notification-channel-push-data-parameters">Push data parameters</h4>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">arg</td>
<td style="text-align: left">Object</td>
<td>Successfully subscribed channel</td>
</tr>
<tr>
<td style="text-align: left">&gt; channel</td>
<td style="text-align: left">String</td>
<td>Channel name</td>
</tr>
<tr>
<td style="text-align: left">&gt; uid</td>
<td style="text-align: left">String</td>
<td>User Identifier</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td>Instrument type</td>
</tr>
<tr>
<td style="text-align: left">data</td>
<td style="text-align: left">Array of objects</td>
<td>Subscribed data</td>
</tr>
<tr>
<td style="text-align: left">&gt; instType</td>
<td style="text-align: left">String</td>
<td>Instrument type</td>
</tr>
<tr>
<td style="text-align: left">&gt; infoType</td>
<td style="text-align: left">String</td>
<td>Information type<br/><code>1</code>: lead trading failed due to touch max position limitation  <br/><code>2</code>: lead trading failed due to touch the maximum daily number of lead trading <br/><code>3</code>: lead trading failed due to your USDT equity less than the minimum USDT equity of lead trading</td>
</tr>
<tr>
<td style="text-align: left">&gt; subPosId</td>
<td style="text-align: left">String</td>
<td>Lead position ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; uniqueCode</td>
<td style="text-align: left">String</td>
<td>Lead trader unique code</td>
</tr>
<tr>
<td style="text-align: left">&gt; instId</td>
<td style="text-align: left">String</td>
<td>Instrument ID</td>
</tr>
<tr>
<td style="text-align: left">&gt; side</td>
<td style="text-align: left">String</td>
<td>Side <code>buy</code> <code>sell</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; posSide</td>
<td style="text-align: left">String</td>
<td>Position side <br/><code>long</code><br/><code>short</code><br/><code>net</code></td>
</tr>
<tr>
<td style="text-align: left">&gt; maxLeadTraderNum</td>
<td style="text-align: left">String</td>
<td>Maximum daily number of lead trading.</td>
</tr>
<tr>
<td style="text-align: left">&gt; minLeadEq</td>
<td style="text-align: left">String</td>
<td>Minimum USDT equity of lead trading.</td>
</tr>
</tbody></table>
<h2 id="order-book-trading-market-data">Market Data</h2>
<p>The API endpoints of <code>Market Data</code> do not require authentication.<br/>
There are multiple services for market data, and each service has an independent cache. A random service will be requested for every request. So for two requests, it’s expected that the data obtained in the second request is earlier than the first request.</p>
