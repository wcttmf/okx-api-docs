<h3 id="overview-websocket-login">Login</h3>
<blockquote>
<p>Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"op"</span>: <span class="s2">"login"</span>,
  <span class="s2">"args"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"apiKey"</span>: <span class="s2">"******"</span>,
      <span class="s2">"passphrase"</span>: <span class="s2">"******"</span>,
      <span class="s2">"timestamp"</span>: <span class="s2">"1538054050"</span>,
      <span class="s2">"sign"</span>: <span class="s2">"7L+zFQ+CEgGu5rzCj4+BdV2/uUHGqddA9pI6ztsRRPs="</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><h4 id="overview-websocket-login-request-parameters">Request Parameters</h4>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">op</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td>Operation<br/><code>login</code></td>
</tr>
<tr>
<td style="text-align: left">args</td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">Yes</td>
<td>List of account to login</td>
</tr>
<tr>
<td style="text-align: left">&gt; apiKey</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td>API Key</td>
</tr>
<tr>
<td style="text-align: left">&gt; passphrase</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td>API Key password</td>
</tr>
<tr>
<td style="text-align: left">&gt; timestamp</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td>Unix Epoch time, the unit is seconds</td>
</tr>
<tr>
<td style="text-align: left">&gt; sign</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td>Signature string</td>
</tr>
</tbody></table>
<blockquote>
<p>Successful Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"login"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Failure Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60009"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Login failed."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4d3ae55"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id="overview-websocket-login-response-parameters">Response parameters</h4>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">event</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td>Operation<br/><code>login</code><br/><code>error</code></td>
</tr>
<tr>
<td style="text-align: left">code</td>
<td style="text-align: left">String</td>
<td style="text-align: left">No</td>
<td>Error code</td>
</tr>
<tr>
<td style="text-align: left">msg</td>
<td style="text-align: left">String</td>
<td style="text-align: left">No</td>
<td>Error message</td>
</tr>
<tr>
<td style="text-align: left">connId</td>
<td style="text-align: left">String</td>
<td style="text-align: left">Yes</td>
<td>WebSocket connection ID</td>
</tr>
</tbody></table>
<p><strong>apiKey</strong>: Unique identification for invoking API. Requires user to apply one manually.</p>
<p><strong>passphrase</strong>: API Key password</p>
<p><strong>timestamp</strong>: the Unix Epoch time, the unit is seconds, e.g. 1704876947</p>
<p><strong>sign</strong>: signature string, the signature algorithm is as follows:</p>
<p>First concatenate <code>timestamp</code>, <code>method</code>, <code>requestPath</code>, strings, then use HMAC SHA256 method to encrypt the concatenated string with SecretKey, and then perform Base64 encoding.</p>
<p><strong>secretKey</strong>: The security key generated when the user applies for API key, e.g. <code>22582BD0CFF14C41EDBF1AB98506286D</code></p>
<p><strong>Example of timestamp</strong>: const timestamp = '' + Date.now() / 1,000</p>
<p><strong>Among sign example</strong>: sign=CryptoJS.enc.Base64.stringify(CryptoJS.HmacSHA256(timestamp +'GET'+'/users/self/verify', secretKey))</p>
<p><strong>method</strong>: always 'GET'.</p>
<p><strong>requestPath</strong> : always '/users/self/verify'</p>
<aside class="notice">
The request will expire 30 seconds after the timestamp. If your server time differs from the API server time, we recommended using the REST API to query the API server time and then set the timestamp.
</aside>
